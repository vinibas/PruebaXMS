<h2>Añadir usuario</h2>
<hr />

<alert type="success" dismissible="true" dismissOnTimeout="5000" *ngIf="submetidoComSucesso">
  <strong>Éxito!</strong> Usuario registrado con éxito!
</alert>
<alert type="danger" dismissible="dismissible" dismissOnTimeout="5000" *ngIf="submetidoComErro">
  <strong>Error!</strong> Error al registrar el usuario!
</alert>

<form novalidate (ngSubmit)="adicionarUsuario()" [formGroup]="usuarioForm">

  <div class="form-horizontal">

    <div class="alert alert-danger" *ngIf="errors.length > 0">
      <h3 id="msgRetorno">Errores:</h3>
      <ul>
        <li *ngFor="let error of errors">{{ error }}</li>
      </ul>
    </div>

    <div class="form-group">
      <label class="col-md-2 control-label">Nombre</label>
      <div class="col-md-10">
        <input class="form-control" type="text" formControlName="nombre" />
      </div>
    </div>

    <div class="form-group">
      <label class="col-md-2 control-label">E-mail</label>
      <div class="col-md-10">
        <input class="form-control" type="text" formControlName="email" />
        <span class="text-danger" *ngIf="displayMessage.email">
          <p [innerHTML]="displayMessage.email"></p>
        </span>
      </div>
    </div>

    <div class="form-group">
      <label class="col-md-2 control-label">Contraseña</label>
      <div class="col-md-10">
        <input class="form-control" type="password" formControlName="contrasena" />
        <span class="text-danger" *ngIf="displayMessage.contrasena">
          <p [innerHTML]="displayMessage.contrasena"></p>
        </span>
      </div>
    </div>

    <div class="form-group">
      <label class="col-md-2 control-label">País</label>
      <div class="col-md-10">
        <select class="form-control" formControlName="pais">
          <option value="" selected>Selecione</option>
          <option value="Br">Brasil</option>
          <option value="Cl">Chile</option>
        </select>
      </div>
    </div>

    <div class="form-group">
      <div class="col-md-4 col-md-offset-2">
        <span>
          <button class="btn btn-primary" type="submit" [disabled]='!usuarioForm.valid || processandoRequisicao'>Adicionar</button>
        </span>
      </div>
    </div>
  </div>
</form>
